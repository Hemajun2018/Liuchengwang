<view class="container">
  <!-- é¡µé¢å¤´éƒ¨ - é¡¹ç›®å’ŒèŠ‚ç‚¹ä¿¡æ¯ -->
  <view class="header-card">
    <view class="project-info">
      <view class="project-icon">ğŸ“‚</view>
      <view class="project-name">{{projectName}}</view>
    </view>
    <view class="node-info">
      <view class="node-icon">ğŸ“</view>
      <view class="node-name">{{nodeName}}</view>
    </view>
  </view>
  
  <!-- é”™è¯¯æç¤º -->
  <view class="error-container" wx:if="{{error}}">
    <view class="error-icon">âŒ</view>
    <view class="error-text">{{error}}</view>
  </view>
  
  <!-- äº¤ä»˜å†…å®¹åˆ—è¡¨ -->
  <view class="section-title">
    <view class="title-icon">ğŸ“‹</view>
    <view class="title-text">äº¤ä»˜å†…å®¹åˆ—è¡¨</view>
  </view>
  
  <!-- åŠ è½½ä¸­æç¤º -->
  <view class="loading-container" wx:if="{{loading}}">
    <view class="loading-icon">â³</view>
    <view class="loading-text">åŠ è½½ä¸­...</view>
  </view>
  
  <!-- ç©ºçŠ¶æ€æç¤º -->
  <view class="empty-container" wx:elif="{{!loading && deliverables.length === 0}}">
    <view class="empty-icon">ğŸ“</view>
    <view class="empty-text">æš‚æ— äº¤ä»˜å†…å®¹</view>
  </view>
  
  <!-- äº¤ä»˜å†…å®¹åˆ—è¡¨ -->
  <view class="deliverables-list" wx:elif="{{!loading && deliverables.length > 0}}">
    <view class="deliverable-card" wx:for="{{deliverables}}" wx:key="id">
      <!-- äº¤ä»˜å†…å®¹æ ‡é¢˜å’ŒçŠ¶æ€ -->
      <view class="deliverable-header">
        <view class="deliverable-title">{{item.name}}</view>
        <view class="deliverable-status status-{{item.status}}">{{item.status_text || 'æœªçŸ¥çŠ¶æ€'}}</view>
      </view>
      
      <!-- äº¤ä»˜å†…å®¹æè¿° -->
      <view class="deliverable-description" wx:if="{{item.description}}">
        {{item.description}}
      </view>
      
      <!-- äº¤ä»˜å†…å®¹æ—¶é—´ä¿¡æ¯ -->
      <view class="deliverable-info">
        <view class="info-item" wx:if="{{item.start_date}}">
          <view class="info-icon">ğŸ•’</view>
          <view class="info-label">å¼€å§‹æ—¶é—´:</view>
          <view class="info-value">{{item.start_date}}</view>
        </view>
        
        <view class="info-item" wx:if="{{item.end_date}}">
          <view class="info-icon">ğŸ</view>
          <view class="info-label">ç»“æŸæ—¶é—´:</view>
          <view class="info-value">{{item.end_date}}</view>
        </view>
      </view>
      
      <!-- äº¤ä»˜å†…å®¹é™„ä»¶ -->
      <view class="deliverable-attachments" wx:if="{{item.attachments && item.attachments.length > 0}}">
        <view class="attachment-title">ğŸ“ é™„ä»¶</view>
        <view class="attachment-list">
          <view class="attachment-item" 
                wx:for="{{item.attachments}}" 
                wx:key="id" 
                wx:for-item="attachment"
                data-url="{{attachment.url}}"
                bindtap="previewAttachment">
            <view class="attachment-icon">ğŸ“„</view>
            <view class="attachment-name">{{attachment.name}}</view>
          </view>
        </view>
      </view>
    </view>
  </view>
  
  <!-- åº•éƒ¨æ“ä½œåŒº -->
  <view class="footer">
    <button class="back-button" bindtap="goBack">
      <view class="button-icon">â†©ï¸</view>
      <view class="button-text">è¿”å›æµç¨‹å›¾</view>
    </button>
  </view>
</view> 